<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	<h1 style="margin-top: 65px">Atendimento clínico</h1>

	<p:toolbar style="margin-top: 5px">

		<p:toolbarGroup>
			<p:commandButton value="Pesquisar" icon="ui-icon-search"
				actionListener="#{clinicaAtendimentoBean.pesquisar}" process="@this"
				update="@form" />
		</p:toolbarGroup>

		<p:toolbarGroup align="right">

		</p:toolbarGroup>

	</p:toolbar>

	<p:dataTable id="pedidosTable" var="agenda"
		value="#{clinicaAtendimentoBean.listaClinicaAgenda}"
		style="margin-top: 5px; width: 100%" rows="8" scrollable="true"
		paginator="true" paginatorAlwaysVisible="false"
		paginatorPosition="bottom" emptyMessage="Nenhum pedido encontrado."
		lazy="true">

		<p:column headerText="Disponível em">
			<h:outputText value="#{agenda.acolhimento.dataLiberaClinica}">
				<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
			</h:outputText>
		</p:column>
		<p:column headerText="Paciente Nome">
			<h:outputText value="#{agenda.paciente.nome}" />
		</p:column>
<!-- 		<p:column headerText="Profissional Nome"> -->
<!-- 			<h:outputText -->
<!-- 				value="#{agenda.consultor == null ? '' : agenda.consultor.nome}" /> -->
<!-- 		</p:column> -->
		<p:column headerText="Convênio">
			<h:outputText value="#{agenda.convenio.descricao}" />
		</p:column>
		<p:column headerText="Padrão">
			<h:outputText value="#{agenda.acolhimento.padrao.descricao}" />
		</p:column>
		<p:column headerText="Iniciado em">
			<h:outputText value="#{agenda.atendimento.dataInicioAtendimento}">
				<f:convertDateTime pattern="dd/MM/yyyy HH:mm" />
			</h:outputText>
		</p:column>

		<p:column style="text-align: center;">
			<p:commandButton icon="ui-icon-pencil" title="Editar" update="@form"
				class="button-grid"
				action="#{clinicaAtendimentoBean.setAgenda(agenda)}" />
		</p:column>

	</p:dataTable>

</ui:composition>